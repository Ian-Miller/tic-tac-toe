<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>井字棋</title>
<link rel="stylesheet" href="css/styles.css">
<style>
  /* 强制修复侧边栏动画 */
  @media (min-width: 481px) {
    .sidebar {
      left: -320px !important;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    .sidebar.open {
      transform: translateX(320px) !important;
    }
  }
  
  @media (max-width: 480px) {
    .sidebar {
      width: 85% !important;
      max-width: 320px !important;
      left: calc(-85% - 25px) !important;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
    .sidebar.open {
      transform: translateX(100%) !important;
    }
  }
</style>
</head>
<body>
<h1 data-lang="title">井字棋</h1>

<!-- 游戏容器 -->
<div class="game-container">
    <div class="game-board-wrapper">
    <table>
        <tr>
                <td id="0"></td>
                <td id="1"></td>
                <td id="2"></td>
        </tr>
        <tr>
                <td id="3"></td>
                <td id="4"></td>
                <td id="5"></td>
        </tr>
        <tr>
                <td id="6"></td>
                <td id="7"></td>
                <td id="8"></td>
        </tr>
    </table>
    </div>
    <div class="symbols-indicator">
      <div class="symbol-box">
        <span data-lang="ai">AI</span>: <span id="aiSymbol">O</span>
      </div>
      <div class="symbol-box">
        <span data-lang="player">玩家</span>: <span id="playerSymbol">X</span>
      </div>
    </div>
    <div class="game-status-area">
    <div id="gameStatus" class="game-status"></div>
      <div class="status-row">
        <div id="loadingIndicator" class="loading-indicator">
          <div class="timer-container">
            <span id="timerDisplay">0</span>
    </div>
</div>
      </div>
</div>
    <div class="game-controls">
        <button class="restart-btn" data-lang="restart">重新开始</button>
        <button class="ai-first-btn" data-lang="aiFirst">AI先手</button>
        <button class="hint-btn" data-lang="hint">提示</button>
    </div>
    
    <div class="stats-container">
        <h3 data-lang="stats">战绩</h3>
        <div class="difficulty-stats">
            <!-- 战绩统计将通过JavaScript动态生成 -->
            </div>
        <button class="reset-btn" data-lang="resetStats">重置战绩</button>
        </div>
    </div>

<!-- 侧边栏 -->
<div class="sidebar">
    <div class="sidebar-header">
        <h3 data-lang="langTitle">语言</h3>
        <button class="sidebar-close">×</button>
</div>
    
    <div class="sidebar-section">
        <h3 data-lang="language">语言</h3>
        <div class="lang-options" id="langOptions">
            <!-- 语言选项将通过JavaScript动态生成 -->
        </div>
    </div>
    
    <div class="drawer-divider"></div>
    
    <div class="sidebar-section">
        <h3 data-lang="gameIntroTitle">游戏介绍</h3>
        <div class="game-intro">
            <p data-lang="intro">井字棋是一种两人对弈的游戏，游戏盘是一个3x3的方格，两人轮流在空格中画上自己的符号，当有一方连成一条线时，该方获胜。</p>
        </div>
    </div>
    
    <div class="drawer-divider"></div>
    
    <div class="sidebar-section">
        <h3 data-lang="rules">游戏规则</h3>
        <div class="game-intro">
            <ol>
                <li data-lang="rule1">游戏盘是一个3x3的方格。</li>
                <li data-lang="rule2">两人轮流在空格中画上自己的符号。</li>
                <li data-lang="rule3">当有一方连成一条线时，该方获胜。</li>
                <li data-lang="rule4">当所有空格都被画满时，游戏结束。</li>
            </ol>
        </div>
    </div>
    
    <div class="drawer-divider"></div>
    
    <div class="sidebar-section">
        <h3 data-lang="algorithms">算法介绍</h3>
        <div class="game-intro">
            <h4 data-lang="mcts">蒙特卡洛树搜索</h4>
            <p data-lang="mctsDescription">蒙特卡洛树搜索是一种概率性算法，通过模拟大量随机对局来评估每一步棋的胜率。</p>
            <h4 data-lang="minimax">极小极大算法</h4>
            <p data-lang="minimaxDescription">极小极大算法是一种确定性算法，通过递归地评估所有可能的游戏状态来选择最优解。</p>
        </div>
    </div>
    
    <div class="drawer-divider"></div>
    
    <div class="sidebar-section">
        <h3 data-lang="about">关于</h3>
        <div class="game-intro">
            <p data-lang="aboutContent">这是一个基于井字棋的AI对弈游戏，用于学习和演示不同AI算法在游戏中的应用。</p>
        </div>
    </div>
</div>

<!-- 侧边栏开关按钮 -->
<button class="sidebar-toggle">
    <span data-lang="langInfo">菜单</span>
</button>

<!-- 侧边栏遮罩层 -->
<div class="sidebar-overlay" id="sidebarOverlay"></div>

<!-- 加载脚本 -->
<script src="js/state.js"></script>
<script src="js/algorithm.js"></script>
<script src="js/mcts.js"></script>
<script src="js/minimax.js"></script>
<script src="js/i18n.js"></script>
<script src="js/ui.js"></script>
<script src="js/stats.js"></script>
<script src="js/game.js"></script>
<script src="js/game-methods.js"></script>
<script src="js/main.js"></script>
<!-- 注意：ai-worker.js 和 hint-worker.js 由Game类通过Worker API动态加载 -->
</body>
</html>